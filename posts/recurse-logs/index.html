<!DOCTYPE html>
<html>
<head>
  <title>Ammar Mian - Recurse Logs</title>
  <link href="https://fonts.googleapis.com/css?family=Spectral" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:700i" rel="stylesheet">
  <link href="/styles/main.css" rel="stylesheet">
  <link rel="shortcut icon" href="https://s3.amazonaws.com/bookswell-media/img-assets/favicon.ico" type="image/x-icon"/>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-113300653-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-113300653-1');
</script>

  <meta http-equiv="Content-Language" content="en-us">
  <meta name="google" value="notranslate">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="cleartype" content="on">
</head>
<body>
  <div class="main">
    <h2 class="name"><a href="/">Ammar Mian</a></h2>
    <div class="inner">
      <h2><strong>Recurse Logs</strong></h2>

       <p> From September 2018 to December 2018, I will be at the Recurse Center in NYC. One way to describe what it is: "a sabbatical for programmers". No tuition, no curriculum, no schedule; just smart, self-directed people and a vast amount of resources to learn. </p> <p> I've been keeping daily track of my work and thought processes from my time here. </p> <h3> Day 1 (9/24) </h3> <p> Commuting from Cortlandt Manor to Brooklyn takes a little over an hour (a 45-minute express Metro North train, a 20-some minute 4 or 5 train to Borough Hall, a 5 minute walk to Recurse Center). We got a tour of the new Brooklyn space and met as many of our batchmates as possible. There are about 30 of us. Things people are interested in working on: Rust; databases; machine learning; augmented reality; computer-generated art. Five of us spontaneously met up to discuss databases. Two hours later, we had a whiteboard covered with notes on the components of a database and a calendar event for our next brainstorm. I’ll be reading some papers, source code, and blog posts over the next few days. </p> <h3> Day 2 (9/25) </h3> <p> The commute was nice this morning from Cortlandt Manor. Tomorrow morning, Alina and I are moving into our new apartment, which is conveniently less than a block away from Recurse Center. During my commute, I was reading Roaring Silence by Ngak’chang Rinpoche. Coincidentally enough, the opening chapter spoke to the idea of “unlearning”. This reminded me that I need not leap to action at Recurse Center out of some misplaced anxiety about not being good enough or not appearing busy/productive enough. So I spent today writing about what I hope to unlearn while I’m at Recurse. Some preliminary contenders: <ul> <li>The impulse to plan exhaustively before taking a single step</li> <li>The delusion that there are things I should know</li> <li>The myth of maximizing productivity</li> <li>Confusing vocabulary with understanding</li> <li>Confusing excitement with learning</li> <li>Anxiety about being idle or bored</li> </ul> </p> <h3> Day 3 (9/26) </h3> <p> Today was my last commute from the suburbs. Alina and I spent all morning moving into the new apartment. Our furniture arrives on Friday, and we’ll be assembling our new Floyd bed frame tonight. I spent some time today getting up to speed with my looming contract work, a 20-25h/week commitment. This will roughly break down to ~6-8h on Fridays in office and ~3h/day Sunday-Thursday. I’m hopeful that this arrangement will work. After some “unlearning” reflection yesterday, I’m stoked at the prospect of writing a Redis clone in Python. Why? Because I want to study databases, and what better way than to study a widely-used, well-documented, open-source in-memory key-value store. And Python because it’s a wonderfully concise language that I have limited experience with. I spent time this afternoon reading through Learning Python, 5th Edition (which is ~1600 pages long!). Tomorrow I’ll wrap up some Python reading and switch gears over to Redis. </p> <h3> Day 4 (9/27) </h3> <p> We ended up spending the morning assembling the Floyd bed frame, which looks so good! I then went into Recurse and spent most of the day reading Redis source code. It’s very well documented. I went down a rabbit hole about how Redis uses jemalloc instead of glibc malloc on Linux for memory allocation. I came back up for air to wrap up a high-level tour in the docs of important code entrypoints. I then got late afternoon coffee with a batchmate, and we chatted about seemingly everything: philosophy of language, philosophy of logic, semantics, Israel, representation, symbols, graduate study, Brooklyn, Florida, anxiety-driven development. Very cool guy. In the evening, Alina and I set up our mattress and bedding. </p> <h3> Day 5 (9/28) </h3> <p> I’m at client HQ all day getting up to speed. Maybe I’ll have some time tonight to read some more Redis code. </p> <h3> Day 6 (10/1) </h3> <p> Today was a strangely anxiety-filled day! I still haven’t “written any code,” which may be the source of the anxiety. I think I’m desperate to get into heads-down deep work mode, but also feeling guilty for not being more involved in the serendipitous activity happening around me. Maybe once I get a single project off the ground, I’ll feel more comfortable bouncing around on different things. There are 11 weeks left, so there is plenty of time. I need to get back into my regular meditation practice, which has been on hiatus all summer. I read Michael Stonebraker’s “What Goes Around Comes Around” paper on the history of databases. I also have been working through the Redis source code, which is well organized and documented. The “AOSA 500 Lines or Less” book has two interesting chapters that implement simple in-memory databases. So I think I’m getting a good lay of the land. The next step (which hopefully takes place tomorrow) is scoping out the parameters of this database -- what problem does it hope to generally solve, how can I design it to contain abstract layers whose implementations can be swapped out and changed, etc. </p> <h3> Day 7 (10/2) </h3> <p> Today was the best day I’ve had so far. I’m finally beginning to understand how everything fits together in redis. Things I read about and explored today: async programming, event loops, and select/epoll/kqueue; C-styled code, dependency injection, and single responsibility principle; somaxconn and the file descriptor abstraction in Unix-based systems. Other stuff from today: a good (and well-documented way) to handle per-project dependencies in Python is to use virtualenv and pip freeze to isolate python versions and packages to whatever library/program you’re writing currently. Tomorrow hopefully I’ll actually write some Python! </p> <h3> Day 8 (10/3) </h3> <p> After diving into how Redis implements things in C, I gameplanned an initial stab at implementing roughly the same program structure in Python while taking advantage of its dynamic, more high-level language features. Instead of writing an event loop myself, I’m using Python’s asyncore library, which use GNU select() as its event multiplexer. This allows nonblocking I/O to take place. The library is useful because it provides a dispatcher class which, when implemented, exposes a TCP socket interface useful for defining client-server behavior. I ended the day with the basic abstractions working: Server, Event Loop, ClientHandler, Resp (redis protocol), Command, Store, and AbstractDataTypes. For now, this key-value store is backed by an in-memory Python dictionary. </p> <h3> Day 9 (10/4) </h3> <p> I learned that the asyncore library requires a lot more work to make it useful in contexts where clients are sending messages of variable sizes. Luckily, after some digging, I learned that Python has another core library called asynchat, which is built on top of asyncore. Maybe someday (hopefully later during this batch even!) I’ll revisit this and figure out how asynchat is implemented in terms of asyncore. Anyways, asynchat can handle concurrent clients and consumes only n bytes per I/O read (as defined by the user), allowing variable message sizes. Its interface is interesting in that i) like asyncore, client ”channels” are maintained in a global map, and ii) writing a response is as simple as pushing to a buffer. </p> <h3> Day 10 (10/5) </h3> <p> Felt sick today and was supposed to go into client HQ. Instead worked from home all day. There were quite a few things to nail down today, but we got things done. On to the weekend. </p> <h3> Day 11 (10/8) </h3> <p> My redisnot project is coming along! I have implemented: getting and setting string values; a server that handles clients asynchronously (event loop); an append-only log persistence strategy; some basic unit tests. I still need to look into the consequences of plugging my file I/O events into the same event loop as my network I/O events. Will this cause any race conditions? I need to shore up my understanding of what “nonblocking” really means at the systems level. The databases group met up again. A batchmate has kindly created a GitHub repo and walked us through his basic REPL that allows users to issue commands to the database he’s writing. Another batchmate is working on the BTree implementation and another on the pager between in-memory and disk. </p> <h3> Day 12 (10/9) </h3> <p> Today was a scratch. Had some personal stuff come up I had to attend to. Also ran a technical interview on behalf of my client. On the brightside, in the afternoon, I decided to start writing a command-line utility to make writing blog posts for my website easier. Previously, I had to manually write all the html for it myself. But the format of each blog post (in terms of markup + formatting) is consistent. So I’m adding a light abstraction layer above that that injects JSON properties into a template HTML file. And writing it in Python because I want to get better at Python. </p> <h3> Day 13 (10/10) </h3> <p> I’m planning on working from home in the morning, running to the gym to get a good workout in, then depending on how I feel, will either go into Recurse or spend the rest of the afternoon meditating. Today I added some more tests to redisnot and looked into the deprecation of asyncore in favor of asyncio. However, asyncio is available only in Python 3.4+ and still in provisional status (meaning they could make breaking changes to its API in future Python releases). So for now I’ll be sticking with asyncore with the caveat that I’ll probably have to change it later to stay fluent. </p> <h3> Day 14 (10/11) </h3> <p> I woke up today, went in to Recurse for the morning, and did some reading on redis + Python. The rest of the afternoon, I contemplated how I would design a language to make it easier for me to write blog posts but still retain some ability to customize things (without using a GUI or CMS). At first, I thought I could just run a convoluted regex expression on it, but then I wised up and returned to the Crafting Interpreters book and notes from my coursework with Oz and Bradfield. Then I realized that the language I wanted to write bore similarity with VueJS in some ways. So I read up some source code on their Vue template parser. Hopefully this weekend I’ll have a chance to write a blog post using a v1 of this program. </p> <h3> Day 15 (10/12) </h3> <p> In Austin for the weekend for a wedding! I’ve been noodling around with this html-compiled language for my blog posts. Using JSON as the data format isn’t something I’m happy with, so I decided to write my own little language (which requires a tokenizer and parser to make sense of it lexically and semantically) </p> <h3> Day 16 (10/15) </h3> <p> Exhausted from this weekend in Austin. Austin is an incredible town. Today I wrote some tests for my html compiler, fixed some bugs, and pushed out a blog post as a test! I’ll be cleaning some things up later and making this thing available on an open-source basis. Maybe someone else will find it helpful. I’m not a fan of using dollar signs to declare variables, so next week I may jump in and change that. </p> <h3> Day 17 (10/16) </h3> <p> I added more comprehensive tests to my templating language (named “BLAGH!”) and tried to publish an actual blog post. This revealed some big problems with my templating language. One, the regex matching pattern wasn’t quite correct (oops). Two, my debug logging wasn’t helpful for fixing problems. So I changed the placement of my debug logs, which helped identify the error. I got my first real blog post up with this! I’m using standard HTML syntax highlighting in my editor, which works like a charm. I may later go down the deep rabbit hole of the Mastering Regular Expressions book. There are parts of the codebase that look a bit nasty. I’d like to go back and clean those up or at least think about better ways to help future me reason about what’s happening. Overall, though, I’m pleased with the outcome, especially as a Python and compilers n00b. </p> <h3> Day 18 (10/17) </h3> <p> I finally woke up early today to meditate. I feel great today. I think given the success yesterday of my templating language, I’d like to work on a grab bag of things (and see which one strikes my fancy). I took two hours of Steezy Studio’s Beginner Hip-Hop class. Me likey! I also sketched out two solo business ideas ideas, each of varying feasibility. Out of these two, the second one seems like one I’d be most excited to do (and that has a demonstrable market). I've had to make many unconventional decisions along my path to becoming a programmer. Bootcamps are a dime a dozen now, but graduates of these programs can very quickly get pigeonholed into boring boilerplate jobs. There's so much space for the next level beyond that. I could tailor my pedagogy off of my learnings of what has worked at ( Viking Code School, Hack Reactor, Bradfield immersive, Recurse Center, my stint at Teach for America ). These seems like a very "me" thing to do. </p> <h3> Day 19 (10/18) </h3> This morning, I grabbed coffee with a batchmate. We talked a bit about Clojure, Datomic, Rich Hickey, and reasoning about systems + the effects they produce. I spent the afternoon thinking more about the online coaching/school idea I had from yesterday, sending some feelers out to people I know who would be target customers. 

      <p><em>last updated: October 18, 2018</em></p>
      <p><a href="/">Home</a><p>

    </div>
  </div>
</body>
</html>
